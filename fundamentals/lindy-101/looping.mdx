---
title: 'Looping'
icon: 'arrows-repeat'
sidebarTitle: 'Looping'
---

<div style={{ display: 'flex', justifyContent: 'center', margin: '2rem 0' }}>
  <div className="video-card">
    <video
      src="https://lindy-docs-content.nyc3.digitaloceanspaces.com/Looping.mp4"
      width="600"
      autoPlay
      muted
      loop
      playsInline
      style={{ display: 'block', width: '100%', borderRadius: '16px' }}
    />
  </div>
</div>

## Quick Overview

Looping lets you process lists of items in parallel rather than one at a time. Think of it like a 'for' loop in programming, but with the power to handle multiple agentic workflows simultaneously.

Instead of processing 100 emails sequentially (which could take hours), loops can handle them all at once. You define what happens to each item, and your agent executes those actions across the entire list concurrently.

This is essential for bulk operations like lead enrichment, content processing, or research tasks. The loop collects results from all iterations and passes a summary to the next step in your workflow.

## When Should You Use Looping?

Use looping whenever you need to process multiple items with the same workflow. The key benefit: parallel processing means faster results.

**Perfect for:**

<CardGroup cols={2}>
  <Card title="Lead Research" icon="chart-line">
    Enrich hundreds of leads from your CRM or spreadsheet simultaneously
  </Card>
  <Card title="Content Creation" icon="file-lines">
    Generate social posts, emails, or descriptions for multiple products at once
  </Card>
  <Card title="Data Processing" icon="table">
    Update spreadsheet rows, validate entries, or send bulk notifications
  </Card>
  <Card title="Research Tasks" icon="users">
    Gather information on candidates, companies, or competitors in parallel
  </Card>
</CardGroup>

<Tip>
Simple test: If you're doing the same task repeatedly for different items, loop it instead.
</Tip>


## Loop Configuration Fields

When setting up your loop, you'll configure several key fields:

- **Items to Loop Through**: The list of data that drives each loop iteration. This can be a static list, a reference to dynamic data from previous steps, or an **AI prompt** that generates the list for you.

  For example, you can use an AI prompt to extract items dynamically:
  <Frame>
    <img src="/lindy-brand-assets/looping-prompt.png" alt="Example of AI prompt for looping items" />
  </Frame>
  ```text
  the different interesting areas of research you identified in this document
  ```
- **Max Cycles**: The maximum number of loop iterations that will run. This controls resource usage. Set this based on your expected list size plus a safety buffer (e.g., if you expect 50 items, set to 100)
- **Max Concurrent**: The maximum number of loop cycles that can run simultaneously in parallel. Choose "Auto" for optimization, or set a specific number.

<Tip>
Set **Max Concurrent** to `1` if you want to process items strictly one after anotherâ€”great for chaining outputs between cycles, or when you need to avoid parallel execution due to dependencies or external rate limits.
</Tip>

- **Output**: The information passed from inside the loop to subsequent steps. This is the **only** data that survives the loop completion. Use "Auto mode" for AI summaries, "AI prompt" to specify exactly what data you need, or set to manual to select an output reference from inside the loop to expose to the outside.

<Tip>
When you pass a list variable in Manual Mode, the loop automatically processes each item individually. For example, passing Google Sheet Rows output reference will process each row separately.
</Tip>

<Warning>
Any data not included in the loop output won't be available to the outside of the loop. Be specific about what information you'll need after the loop completes.
</Warning>

## Building Your First Loop

Let's create a research assistant that loops through locations, researches each one, and summarizes findings. This pattern can be adapted for lead enrichment, candidate research, or any bulk processing task.

### Step 1: Planning Your Loop

Before building, define:
1. **Items to process** - What list will you loop through?
2. **Loop output** - What information should be available after the loop?
3. **Actions per item** - What happens to each item?
4. **Post-loop actions** - What happens with the aggregated results?

### Step 2: Add the Loop

<Frame>
  <img src="/lindy-brand-assets/add_step_enter_loop.png" alt="IMAGE NEEDED: Screenshot showing 'Enter loop' option in the Add Step menu" />
</Frame>

Click the plus button and select "Enter loop" to add the loop step.


## Configuring Your Loop

### Setting Items to Loop Through

<Frame>
  <img src="/lindy-brand-assets/loop-items-configuration.png" alt="IMAGE NEEDED: Screenshot of loop configuration panel showing 'Items to loop through' field" />
</Frame>

Configure what the loop will process:
- **Manual list** - Type items directly (e.g., `["New York", "Paris", "Tokyo"]`)
- **Dynamic data** - Reference data from previous steps
- **AI-generated** - Let AI extract or create the list

Example using AI mode: `Research items from the knowledge base in the previous step`

### Defining Loop Output

Set what information should be available after the loop completes. In Prompt AI mode:

```
Summary of key findings for each location including costs and attractions
```
<div style={{ display: 'flex', justifyContent: 'center', margin: '2rem 0' }}>
  <div className="video-card">
    <video
      src="/lindy-brand-assets/loop-output-configuration.mp4"
      width="600"
      autoPlay
      muted
      loop
      playsInline
      style={{ display: 'block', width: '100%', borderRadius: '16px' }}
    />
  </div>
</div>

<Tip>
Without a defined output, the loop will only provide a basic summary. Always specify exactly what data you need for subsequent steps.
</Tip>


## Building Inside the Loop

### Adding Loop Actions

For our research example:
1. Click the + icon inside the loop
2. Add a search action (Perplexity, Web Search, etc.)
3. Configure it to research the current loop item

<Frame>
  <img src="/lindy-brand-assets/loop-search-configuration.png" alt="IMAGE NEEDED: Screenshot showing search action configured with loop item reference" />
</Frame>


## Best Practices

<AccordionGroup>
  <Accordion title="Test with Small Lists">
    Debug with 3-5 items before processing hundreds. It's easier to spot issues in smaller batches.
  </Accordion>
</AccordionGroup>


## Troubleshooting

<AccordionGroup>
  <Accordion title="Loop Not Processing All Items">
    - Check Max Cycles setting
    - Check your loop input configuration
    - Look for rate limit errors
  </Accordion>
  
  <Accordion title="Missing Data After Loop">
    - Review output configuration
    - Configure the loop "Output" field to include all data you'll need in subsequent steps
    - Check if actions inside loop are completing
  </Accordion>
  
  <Accordion title="Slow Performance">
    - Reduce actions inside loop
    - Check for rate-limited services
  </Accordion>
  
  <Accordion title="Errors in Specific Items">
    - Add error handling inside loop
    - Use conditions to skip problematic items
    - Log failures for manual review
  </Accordion>
</AccordionGroup>

<Warning>
Remember: Only the defined loop output is accessible outside the loop. Any data not included in the output is lost once the loop completes.
</Warning>


## Next Steps

Master these related concepts to build more sophisticated automations:

<CardGroup cols={2}>
  <Card title="Agent Steps" href="/fundamentals/lindy-101/ai-agents" icon="brain-circuit">
Combine loops with agent steps for intelligent bulk processing
  </Card>
  <Card title="Conditions" href="/fundamentals/lindy-101/conditions" icon="network-wired">
    Add conditional logic inside loops for dynamic processing
  </Card>
  <Card title="Knowledge Base" href="/fundamentals/lindy-101/knowledge-base" icon="database">
    Store loop outputs in knowledge bases for future reference
  </Card>
  <Card title="Tasks" href="/fundamentals/lindy-101/tasks" icon="book">
    Monitor and manage loop executions through the task interface
  </Card>
</CardGroup>