---
title: 'Looping'
icon: 'arrows-repeat'
sidebarTitle: 'Looping'
---

<div style={{ display: 'flex', justifyContent: 'center', margin: '2rem 0' }}>
  <div className="video-card">
    <video
      src="https://lindy-docs-content.nyc3.digitaloceanspaces.com/Looping.mp4"
      width="600"
      autoPlay
      muted
      loop
      playsInline
      style={{ display: 'block', width: '100%', borderRadius: '16px' }}
    />
  </div>
</div>

## Quick Overview

Looping allows you to efficiently process lists of items in parallel, similar to a 'for' loop in programming but with the power of concurrent execution. Instead of handling items one at a time, loops let you process multiple items simultaneously, dramatically increasing efficiency.

Key benefits:
- **Parallel processing** - Execute multiple tasks concurrently, not sequentially
- **Batch operations** - Process hundreds of items in the time it takes to process a few
- **Scalable workflows** - Handle varying list sizes without workflow changes
- **Aggregated outputs** - Collect and summarize results from all iterations
- **Resource efficiency** - Complete bulk tasks in minutes instead of hours


## Understanding Loop Components

### Key Concepts

- **Loop cycle** - A single execution for one item in your list
- **Output** - The data passed from the loop to subsequent steps (only the output leaves the loop)
- **Max cycles** - Safety limit to prevent infinite loops or excessive processing
- **Items to loop through** - The list of data that drives each iteration

<Note>
The loop output is the ONLY information that passes from inside the loop to outside steps. Configure it carefully to include all data you'll need later.
</Note>


## Building Your First Loop

Let's create a research assistant that loops through locations, researches each one, and summarizes findings. This pattern can be adapted for lead enrichment, candidate research, or any bulk processing task.

### Step 1: Planning Your Loop

Before building, define:
1. **Items to process** - What list will you loop through?
2. **Loop output** - What information should be available after the loop?
3. **Actions per item** - What happens to each item?
4. **Post-loop actions** - What happens with the aggregated results?

### Step 2: Add the Loop

<Frame>
  <img src="/lindy-brand-assets/add_step_enter_loop.png" alt="IMAGE NEEDED: Screenshot showing 'Enter loop' option in the Add Step menu" />
</Frame>

Click the plus button and select "Enter loop" to add the loop step.


## Configuring Your Loop

### Setting Items to Loop Through

<Frame>
  <img src="/lindy-brand-assets/loop-items-configuration.png" alt="IMAGE NEEDED: Screenshot of loop configuration panel showing 'Items to loop through' field" />
</Frame>

Configure what the loop will process:
- **Manual list** - Type items directly (e.g., `["New York", "Paris", "Tokyo"]`)
- **Dynamic data** - Reference data from previous steps
- **AI-generated** - Let AI extract or create the list

Example using AI mode: `Research items from the knowledge base in the previous step`

### Defining Loop Output

Set what information should be available after the loop completes. In Prompt AI mode:

```
Summary of key findings for each location including costs and attractions
```
<div style={{ display: 'flex', justifyContent: 'center', margin: '2rem 0' }}>
  <div className="video-card">
    <video
      src="/lindy-brand-assets/loop-output-configuration.mp4"
      width="600"
      autoPlay
      muted
      loop
      playsInline
      style={{ display: 'block', width: '100%', borderRadius: '16px' }}
    />
  </div>
</div>

<Tip>
Without a defined output, the loop will only provide a basic summary. Always specify exactly what data you need for subsequent steps.
</Tip>


## Building Inside the Loop

Actions inside the loop execute for each item in parallel.

### Adding Loop Actions

For our research example:
1. Click the + icon inside the loop
2. Add a search action (Perplexity, Web Search, etc.)
3. Configure it to research the current loop item

<Frame>
  <img src="/lindy-brand-assets/loop-search-configuration.png" alt="IMAGE NEEDED: Screenshot showing search action configured with loop item reference" />
</Frame>


## Best Practices

<AccordionGroup>
  <Accordion title="Design Efficient Loops">
    Start with a clear output definition. The loop output is your only bridge between the loop and subsequent steps - make it comprehensive.
  </Accordion>
  
  <Accordion title="Handle Errors Gracefully">
    Not every item might process successfully. Design your output to handle partial failures without breaking the workflow.
  </Accordion>
  
  <Accordion title="Set Reasonable Limits">
    Use Max Cycles to prevent runaway loops. Start conservative and increase as needed.
  </Accordion>
  
  <Accordion title="Optimize for Parallel">
    Avoid dependencies between items. Each cycle should be independent for maximum parallelization.
  </Accordion>

  <Accordion title="Test with Small Lists">
    Debug with 3-5 items before processing hundreds. It's easier to spot issues in smaller batches.
  </Accordion>
</AccordionGroup>


## Troubleshooting

<AccordionGroup>
  <Accordion title="Loop Not Processing All Items">
    - Check Max Cycles setting
    - Verify item list format
    - Look for rate limit errors
  </Accordion>
  
  <Accordion title="Missing Data After Loop">
    - Review output configuration
    - Ensure output captures needed data
    - Check if actions inside loop are completing
  </Accordion>
  
  <Accordion title="Slow Performance">
    - Reduce actions inside loop
    - Check for rate-limited services
    - Consider breaking into multiple smaller loops
  </Accordion>
  
  <Accordion title="Errors in Specific Items">
    - Add error handling inside loop
    - Use conditions to skip problematic items
    - Log failures for manual review
  </Accordion>
</AccordionGroup>

<Warning>
Remember: Only the defined loop output is accessible outside the loop. Any data not included in the output is lost once the loop completes.
</Warning>


## Next Steps

Master these related concepts to build more sophisticated automations:

<CardGroup cols={2}>
  <Card title="AI Agents" href="/fundamentals/lindy-101/ai-agents" icon="brain">
    Combine loops with AI agents for intelligent bulk processing
  </Card>
  <Card title="Conditions" href="/fundamentals/lindy-101/conditions" icon="code-branch">
    Add conditional logic inside loops for dynamic processing
  </Card>
  <Card title="Knowledge Base" href="/fundamentals/lindy-101/knowledge-base" icon="database">
    Store loop outputs in knowledge bases for future reference
  </Card>
  <Card title="Tasks" href="/fundamentals/lindy-101/tasks" icon="list-check">
    Monitor and manage loop executions through the task interface
  </Card>
</CardGroup>